<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
	<title>Employee Management</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<h:outputStylesheet library="css" name="styles.css" />
</h:head>
<h:body>
	<h1>Employee Management</h1>
	<h:form styleClass="main-form">
		<h:dataTable value="#{EmployeeBean.employees}" var="item"
			styleClass="employee-table">
			<h:column styleClass="col-code">
				<f:facet name="header">
				Code
			</f:facet>
				<h:outputText value="#{item.code}" />
			</h:column>
			<h:column styleClass="col-name">
				<f:facet name="header">
				Name
			</f:facet>
				<h:outputText value="#{item.name}" />
			</h:column>
			<h:column styleClass="col-age">
				<f:facet name="header">
				Age
			</f:facet>
				<h:outputText value="#{item.age}" />
			</h:column>
			<h:column styleClass="col-dob">
				<f:facet name="header">
				Date Of Birth
			</f:facet>
				<h:outputText value="#{item.dateOfBirth}" />
			</h:column>
			<h:column styleClass="col-radio">
				<f:facet name="header">
				 SELECT
				</f:facet>
				<h:selectOneRadio value="#{EmployeeBean.selectedEmployeeCode}"
					group="employee">
					<f:selectItem itemValue="#{item.code}" />
					<f:ajax event="change"></f:ajax>
				</h:selectOneRadio>
			</h:column>
		</h:dataTable>

		<h:panelGrid columns="3" styleClass="input-panelgrid">
			<h:outputLabel value="Name" />
			<h:inputText id="name" value="#{EmployeeBean.employee.name}" validatorMessage="Invalid name">
			<f:validateRegex for="name" pattern="^[\p{L}\p{P}\s]+$" />
			</h:inputText>
			<h:message for="name" style="color: red; font-size: 0.9em; margin-left=20px;"/>
			<h:outputLabel value="Date Of Birth" />
			<h:inputText value="#{EmployeeBean.employee.dateOfBirth}"
				placeholder="YYYY-MM-DD">
				<f:convertDateTime pattern="yyyy-MM-dd" type="localDate" />
			</h:inputText>
		</h:panelGrid>
		
		<h:panelGroup layout="block" styleClass="button-group">
			<h:commandButton action="#{EmployeeBean.add()}" value="Add"
				styleClass="add-button" />
			<h:commandButton action="#{EmployeeBean.update()}" value="Update"
				styleClass="update-button" />
			<h:commandButton action="#{EmployeeBean.delete()}" value="Delete" immediate="true"
				styleClass="delete-button" />
		</h:panelGroup>
	</h:form>
</h:body>
</html>